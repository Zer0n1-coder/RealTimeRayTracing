# 26.6 纹理过滤
如第3.8节和第23.8节所述，光栅化是对***quads***样的2x2组像素进行着色。这样做是为了使**mipmapping**纹理硬件单元可以计算和使用纹理覆盖域的近似值。对于光线追踪，情况会有所不同。在这里，光线通常是相互独立发射的。我们可以想象这样一个系统：每个***eye ray***有两条额外的光线与三角片平面相交，其中第一条光线水平偏移一个像素，第二条垂直偏移一个像素。在许多情况下，这种技术可以生成精确的纹理过滤器覆盖域，但仅限于***eye ray***。但是，如果相机正在观察反射表面，而反射光线命中纹理表面，会发生什么情况？在这种情况下，最好执行过滤纹理查找，同时考虑反射的性质和光线传播的距离。折射表面也是如此。  
Igehy利用一种称为光线差分的技术为这个问题提供了一个复杂的解决方案。每一条光线都需要存储作为该光线的附加数据。回想一下，**o**是光线起点，**d**是光线方向(方程式26.1)。由于**o**和**d**都有三个元素，上面的对光线的微分就需要4x3=12个额外的数字来存储这些数据。发射一条光线时，，∂o/∂x=∂o/∂y=(0,0,0),因为光线是从一个点开始的。然而，∂d/∂x和∂d/∂y将模拟每束光线通过像素时的扩散量。光线的微分在从一个点传输到另一个点时需要更新。此外，Igehy不仅导出了光线的微分在反射和折射时其是如何变化的公式，还导出了如何计算具有插值法线的三角形的微分法线公式。  

